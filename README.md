# 基于微信的订单位置监控服务

### 系统定位

系统为需要订单实时位置查询的物流企业提供了通过微信公众号查询订单位置的功能

系统可以由使用者单独部署，集成至其现有的公众号服务中，也可以使用一个统一的公众号，使用者本身只需要告知其客户该统一公众号即可，其客户即可获得带有时间和标识订单位置的地图图片，使得客户对订单的配送状态一目了然

### 使用者需要提供位置数据

该服务的正确运行，需要使用的企业安装系统配套的客户端，该客户端会将订单的位置信息发送到服务器

### 系统原理

* 系统接收订单以及订单绑定的车辆的位置信息，（订单与车辆的绑定有单独的API）；

* 接收到位置信息后，系统判断该位置是否更新地图数据

* 系统定位于应付海量订单，在接受和处理位置数据上，采用多协程处理，每个协程处理定量的数据，当超出该协程设置的处理能力后，自动增加新的处理协程，充分利用硬件资源

* 与订单查询用户交互方面，重点保证交互的可用性和及时性；系统默认对查询的最长反应时间，但随着数据量的增大，处理时间会随之增大，直到超出默认的反应时间，该种情况下，系统会自动调整处理策略，保证查询的成功，并发出警报，运营者及时将流量分布到其它服务器

###API

####添加订单位置信息

POST /addBagage

参数: 
`
{ID:"与订单绑定的打包或者车辆信息", Longitude: 39.45, Latitude: 112.45, BagageList: ["001", "002"]}

`
返回:
`
{Code: 0, Message: ""}

`
Code为0,表示成功

###待实现特性:

1. 订单的回收

### 备注

**由于开发任务较多和其它你懂得的原因，本系统的部分功能可能未能体现在代码中，如果确实需要，请联系我（ssor@qq.com），我会尽快回复**
